# 3D Transformatie Pipeline - Engine Overzicht

Transformeer een 3D-object:

- Van zijn oorspronkelijke vorm (local space)
- Naar zijn juiste positie in wereldruimte (world space)
- Naar eye space (uitgelijnd met de camera)
- Voorbereiden op projectie naar 2D

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”¹ Stap 1: Bereken individuele transformatie-matrices

Elke transformatie past het figuur op een andere manier aan:

1ï¸âƒ£ scalefigure(double scale)
ğŸ“Œ Doel: maakt een schaalmatrix aan om het figuur groter of kleiner te maken.
ğŸ§ª Werking: vermenigvuldigt elk coÃ¶rdinaat (x, y, z) met de schaalfactor.
Wijzigt de grootte, maar niet de positie of oriÃ«ntatie.

2ï¸âƒ£ rotateX(angle), rotateY(angle), rotateZ(angle)
ğŸ“Œ Doel: roteert het figuur rond de X-, Y- of Z-as.
ğŸ§ª Werking:
- rotateX: voor- en achterover kantelen
- rotateY: links/rechts draaien
- rotateZ: rotatie in XY-vlak (zoals een klok)
ğŸ’¡ Rotatievolgorde is belangrijk:
   âœ… rotateX â†’ âœ… rotateY â†’ âœ… rotateZ

3ï¸âƒ£ translatie_matrix(Vector3D translation)
ğŸ“Œ Doel: verplaatst het figuur naar de juiste positie in de wereld.
ğŸ§ª Werking: telt (x, y, z) op bij elk punt. Wijzigt NIET de grootte of rotatie.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”¹ Stap 2: Pas eye-transformatie toe

Zodra het figuur op zijn plaats staat, wordt het uitgelijnd met de camera.

4ï¸âƒ£ eyePointHelpFunctiontoPolar(...)
ğŸ“Œ Doel: zet cameracoÃ¶rdinaten om naar bolcoÃ¶rdinaten (r, Î¸, Ï†)
ğŸ§ª Werking:
- r = afstand tot oorsprong
- Î¸ = hoek in het XY-vlak
- Ï† = hoek t.o.v. de Z-as

5ï¸âƒ£ eyePointTrans(Vector3D eyePoint)
ğŸ“Œ Doel: maakt een matrix om het figuur zo te transformeren dat de camera op (0,0,0) staat en in de juiste richting kijkt.
ğŸ§ª Werking:
- roteert de scÃ¨ne zodat de camera kijkt langs -Z
- translateert het hele figuur zodat het in 'eye space' zit

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”¹ Stap 3: Combineer alle transformaties in Ã©Ã©n matrix

6ï¸âƒ£ computeMatrix(...)
ğŸ“Œ Doel: combineert alle transformaties tot Ã©Ã©n matrix.
ğŸ§ª Werking:
   M = S â‹… Rx â‹… Ry â‹… Rz â‹… T â‹… Eye
ğŸ’¡ Volgorde is belangrijk:
   âœ… Schalen (S)
   âœ… Rotatie X, Y, Z
   âœ… Translatie
   âœ… Eye-transformatie

Nu hebben we Ã©Ã©n matrix die alles in Ã©Ã©n keer doet.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”¹ Stap 4: Pas de transformatie toe

7ï¸âƒ£ applyTransformation(Figure &fig, const Matrix &m)
ğŸ“Œ Doel: vermenigvuldigt alle punten van een figuur met matrix M.
ğŸ§ª Werking:
   p = M * p
   Nu zijn de punten omgezet naar eye-space, klaar voor projectie.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”¹ Stap 5: Pas transformatie toe op alle figuren

8ï¸âƒ£ applyTransformation(Figures3D &figs, const Matrix &m)
ğŸ“Œ Doel: past matrix M toe op alle figuren in de scÃ¨ne.
ğŸ§ª Werking:
   Voor elk figuur:
      fig.applyTransformation(M);

Zo staat alles klaar in eye space voor projectie naar 2D.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”œ Volgende stap: Projectie

Zodra de punten in eye space staan:
Gebruik perspectiefprojectie:

   x' = d * x / z
   y' = d * y / z

(d = 1.0)

Gebruik de functie `doProjection(...)` om alle figuren om te zetten naar `Lines2D`.

Daarna teken je met `draw2DLines(...)`.

